<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Daily Reminder</title>

  <meta name="theme-color" content="#0f172a" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: #0f172a;
      color: #e5e7eb;
      padding: 16px;
    }
    h1 { font-size: 2rem; margin-bottom: 20px; text-align: center; }
    h2 { font-size: 1.3rem; margin-bottom: 10px; }
    .card {
      background: #1e293b;
      border-radius: 16px;
      padding: 16px;
      margin-top: 16px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    }
    button {
      background: #2563eb;
      color: white;
      border: none;
      border-radius: 12px;
      padding: 12px 16px;
      margin: 8px 4px 0 0;
      font-size: 1rem;
      cursor: pointer;
    }
    ul { padding-left: 20px; }
    li { margin: 8px 0; font-size: 1rem; }
    input[type="text"] {
      width: 100%;
      padding: 12px;
      border-radius: 12px;
      border: none;
      margin-top: 8px;
      font-size: 1rem;
    }
    .status { font-weight: 700; margin-top: 6px; font-size: 1.1rem; }
    .progress-bar {
      background: #334155;
      border-radius: 12px;
      height: 12px;
      margin-top: 6px;
      overflow: hidden;
    }
    .progress {
      height: 100%;
      background: linear-gradient(90deg, #22c55e, #4ade80);
      width: 0%;
      transition: width 0.6s ease;
    }
    .progress.workout {
      background: linear-gradient(90deg, #f97316, #fb923c);
    }
  </style>
</head>
<body>

<h1>Daily Reminder</h1>

<div class="card">
  <h2>ü¶∑ Beugel Elastiek</h2>
  <div id="elastiekStatus" class="status"></div>
  <div class="progress-bar"><div id="elastiekProgress" class="progress"></div></div>
  <button onclick="setElastiek('off')">Removed (Eating)</button>
  <button onclick="setElastiek('on')">Put Back</button>
</div>

<div class="card">
  <h2>üìÖ Today</h2>
  <div id="todayInfo"></div>
</div>

<div class="card">
  <h2>üí™ Daily Workout</h2>
  <div id="workoutInfo"></div>
  <div class="progress-bar"><div id="workoutProgress" class="progress workout"></div></div>
  <button onclick="completeWorkout()">Workout Done ‚úÖ</button>
</div>

<div class="card">
  <h2>‚úÖ To‚ÄëDo</h2>
  <ul id="todoList"></ul>
  <input type="text" id="newTodo" placeholder="New task..." />
  <button onclick="addTodo()">Add</button>
</div>

<script>
// ---------- Elastiek ----------
function setElastiek(state) {
  localStorage.setItem('elastiek', state);
  updateElastiek();
}

function updateElastiek() {
  const state = localStorage.getItem('elastiek') || 'on';
  const status = document.getElementById('elastiekStatus');
  const bar = document.getElementById('elastiekProgress');

  if (state === 'on') {
    status.textContent = 'Elastiek is IN ‚úÖ';
    status.style.color = '#22c55e';
    bar.style.width = '100%';
  } else {
    status.textContent = 'Elastiek is OUT ‚ö†Ô∏è';
    status.style.color = '#f87171';
    bar.style.width = '15%';
  }
}

// ---------- Schedule ----------
const schedule = { school: { wake: '06:15' }, free: { wake: '09:00' } };
const SLEEP_HOURS = 9;

function updateToday() {
  const tomorrow = new Date();
  tomorrow.setDate(tomorrow.getDate() + 1);
  const isSchoolDayTomorrow = [2,3,4,5].includes(tomorrow.getDay());
  const type = isSchoolDayTomorrow ? 'school' : 'free';

  const wakeTime = schedule[type].wake;
  const [h, m] = wakeTime.split(':').map(Number);
  const sleepDate = new Date();
  sleepDate.setHours(h, m, 0, 0);
  sleepDate.setMinutes(sleepDate.getMinutes() - SLEEP_HOURS * 60);
  const sleepTime = sleepDate.toTimeString().slice(0,5);

  document.getElementById('todayInfo').innerHTML = `
    <div>${isSchoolDayTomorrow ? 'Tomorrow is School Day üéí' : 'Tomorrow is Free Day üòå'}</div>
    <div>Wake up: <b>${wakeTime}</b></div>
    <div>Sleep: <b>${sleepTime}</b> (9h)</div>
  `;
}

// ---------- Workout ----------
let workout = JSON.parse(localStorage.getItem('workout') || '{"pushups":10,"situps":10,"squats":10,"done":false,"date":""}');
const today = new Date().toDateString();

if (workout.date !== today) {
  workout.date = today;
  workout.done = false;
}

function updateWorkout() {
  document.getElementById('workoutInfo').innerHTML = `
    <div>Push-ups: <b>${workout.pushups}</b></div>
    <div>Sit-ups: <b>${workout.situps}</b></div>
    <div>Squats: <b>${workout.squats}</b></div>
    <div>Status: <b>${workout.done ? 'Done ‚úÖ' : 'Not done ‚ùå'}</b></div>
  `;

  document.getElementById('workoutProgress').style.width = workout.done ? '100%' : '0%';
  localStorage.setItem('workout', JSON.stringify(workout));
}

function completeWorkout() {
  if (workout.done) return;

  workout.done = true;
  workout.pushups += 2;
  workout.situps += 2;
  workout.squats += 2;

  updateWorkout();
  alert('Workout afgerond üí™ Goed bezig!');
}

// ---------- Reminder 18:00 ----------
function checkWorkoutReminder() {
  const now = new Date();
  const key = 'reminded-' + today;

  if (now.getHours() === 18 && !workout.done && !localStorage.getItem(key)) {
    alert('‚è∞ Workout reminder! Je workout is nog niet gedaan üí™');
    localStorage.setItem(key, 'yes');
  }
}
setInterval(checkWorkoutReminder, 60000);

// ---------- To‚ÄëDo ----------
let todos = JSON.parse(localStorage.getItem('todos') || '[]');
const todoDate = localStorage.getItem('todoDate');

if (todoDate !== today) {
  todos = [];
  localStorage.setItem('todoDate', today);
}

function renderTodos() {
  const ul = document.getElementById('todoList');
  ul.innerHTML = '';
  todos.forEach((todo, i) => {
    const li = document.createElement('li');
    li.innerHTML = `<input type="checkbox" ${todo.done ? 'checked' : ''} onchange="toggleTodo(${i})"> ${todo.text}`;
    ul.appendChild(li);
  });
  localStorage.setItem('todos', JSON.stringify(todos));
}

function addTodo() {
  const input = document.getElementById('newTodo');
  if (!input.value) return;
  todos.push({ text: input.value, done: false });
  input.value = '';
  renderTodos();
}

function toggleTodo(i) {
  todos[i].done = !todos[i].done;
  renderTodos();
}

// ---------- Init ----------
updateElastiek();
updateToday();
updateWorkout();
renderTodos();
</script>

</body>
</html>
